version: '2.0'

examples.mistral-with-items-implicit-item:
    description: A sample workflow to use the implicit item feature.
    type: direct
    input:
        - messages
        - tempfile
    tasks:
        task1:
            with-items: <% $.messages %>
            action: core.local
            input:
                cmd: 'x=`cat <% $.tempfile %>`; y=`echo "$x * <% $.i %> % 2" | bc`; exit `echo $y`'
